"use strict";(()=>{var e={};e.id=961,e.ids=[961],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},1808:e=>{e.exports=require("net")},2037:e=>{e.exports=require("os")},1017:e=>{e.exports=require("path")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},4404:e=>{e.exports=require("tls")},7310:e=>{e.exports=require("url")},3837:e=>{e.exports=require("util")},9796:e=>{e.exports=require("zlib")},3807:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>b,patchFetch:()=>j,requestAsyncStorage:()=>x,routeModule:()=>f,serverHooks:()=>q,staticGenerationAsyncStorage:()=>h});var o={};t.r(o),t.d(o,{POST:()=>I,requestBodyParsing:()=>g});var i=t(9303),s=t(8716),a=t(670),n=t(7070),u=t(3965),p=t(7608),c=t(2890),l=t(2814),m=t(5687);let d=c({storage:c.memoryStorage()});(0,l.eI)("https://ubhawvhjtmupucogjads.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InViaGF3dmhqdG11cHVjb2dqYWRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU4Nzk4OTUsImV4cCI6MjAzMTQ1NTg5NX0.Wxf-zwHmP367Fm2mim0rQWO-wF2i_dKFfrtYNL-wEXM");let g=!1;async function I(e){return new Promise((r,t)=>{d.single("file")(e,{},async t=>{if(t)return console.error("Error uploading file:",t),r(n.NextResponse.json({error:"Error uploading file"},{status:400}));try{let t=await e.formData(),o=t.get("iDUser"),i=t.get("material"),s=t.get("caracteristicas"),a=t.get("email"),c=t.get("telefono"),l=t.get("file");console.log(l);let d=new m.Agent({rejectUnauthorized:!1}),g=await (0,p.c)(l,{agent:d});if(!g)return r(n.NextResponse.json({error:"Error uploading image"},{status:400}));let I=await u._.oNG.create({data:{iDUser:parseInt(o),material:i,caracteristicas:s,email:a,telefono:c,fotoUrl:g}});r(n.NextResponse.json({message:I},{status:201}))}catch(e){console.error("Error creating ONG:",e),r(n.NextResponse.json({error:"Error creating ONG"},{status:400}))}})})}let f=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/ong/crear/route",pathname:"/api/ong/crear",filename:"route",bundlePath:"app/api/ong/crear/route"},resolvedPagePath:"C:\\Users\\47575158\\Documents\\GitHub\\Segundeame\\Segundeame\\app\\api\\ong\\crear\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:x,staticGenerationAsyncStorage:h,serverHooks:q}=f,b="/api/ong/crear/route";function j(){return(0,a.patchFetch)({serverHooks:q,staticGenerationAsyncStorage:h})}},3965:(e,r,t)=>{t.d(r,{_:()=>i});let o=require("@prisma/client"),i=globalThis.prisma||new o.PrismaClient},7608:(e,r,t)=>{t.d(r,{c:()=>i});let o=(0,t(2814).eI)("https://ubhawvhjtmupucogjads.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InViaGF3dmhqdG11cHVjb2dqYWRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU4Nzk4OTUsImV4cCI6MjAzMTQ1NTg5NX0.Wxf-zwHmP367Fm2mim0rQWO-wF2i_dKFfrtYNL-wEXM");async function i(e){try{let r=`uploads/${e.name}`,{data:t,error:i}=await o.storage.from("fotos").upload(r,e.buffer,{contentType:e.mimetype,cacheControl:"3600",upsert:!1});if(i)return console.error("Error uploading file:",i),null;let{data:s}=o.storage.from("fotos").getPublicUrl(r);return s?.publicUrl}catch(e){return console.error("Error uploading file:",e),null}}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[948,972,478],()=>t(3807));module.exports=o})();